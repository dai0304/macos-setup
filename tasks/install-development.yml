---

- hosts: localhost
  tasks:
  - name: Update homebrew itself first
    homebrew: update_homebrew=yes

  - name: Tap homebrew repositories
    homebrew_tap: name={{ item }}
    with_items:
      - homebrew/cask-fonts
      - classmethod/repos

  - name: Remove homebrew packages
    homebrew: name={{ item }} state=absent
    with_items:
      - rcmdnk/rcmdnkpac/parse-plist
 
  - name: Install homebrew packages
    homebrew: name={{ item }}
    with_items:
      - tree
      - wget
      - watch
      - colordiff
      - coreutils # for gdate
      - jq
      - the_platinum_searcher
      - mysql
      - nkf
      - watch
      - aurl
      - base64
      - giter8
      - httpie

  - name: Install Homebrew cask packages
    homebrew_cask: name={{ item }}
    with_items:
      - iterm2
      - mysqlworkbench
      - font-hack-nerd-font
      # - virtualbox
      # - intellij-idea

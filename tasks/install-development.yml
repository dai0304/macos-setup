---

- hosts: localhost
  tasks:
  - name: Update homebrew itself first
    homebrew: update_homebrew=yes

  - name: Tap homebrew repositories
    homebrew_tap: name={{ item }}
    with_items:
      # - homebrew/dupes
      # - homebrew/binary
      - caskroom/fonts
      - classmethod/repos

  - name: Remove homebrew packages
    homebrew: name={{ item }} state=absent
    with_items:
      - git-flow
 
  - name: Install homebrew packages
    homebrew: name={{ item }}
    with_items:
      - tree
      - wget
      - watch
      - colordiff
      - coreutils # for gdate
      - jq
      - the_platinum_searcher
      - git-flow-avh
      - git-secrets
      - hub
      - mysql
      - nkf
      - watch
      - aurl
      - base64
      - giter8
      - httpie
      - rcmdnk/rcmdnkpac/parse-plist

  - name: Install Homebrew cask packages
    homebrew_cask: name={{ item }}
    with_items:
      - iterm2
      # - virtualbox
      - docker
      - mysqlworkbench
      # - intellij-idea
      - font-hack-nerd-font
